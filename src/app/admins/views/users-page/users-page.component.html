
<div class="flex justify-center mb-4"  >

  <div class="relative w-full sm:w-[70%]" id="input">
    <input
      value=""
      placeholder="Search by user name ..."
      class="block w-full text-sm h-[50px] px-4 text-slate-900 bg-white rounded-[8px] border border-slate-200 appearance-none focus:border-transparent focus:outline focus:outline-2 focus:outline-primary focus:ring-0 hover:border-brand-500-secondary- peer invalid:border-error-500 invalid:focus:border-error-500 overflow-ellipsis overflow-hidden text-nowrap pr-[48px]"
      id="floating_outlined"
      type="text"
    />
    <label
      class="peer-placeholder-shown:-z-10 peer-focus:z-10 absolute text-[14px] leading-[150%] text-primary peer-focus:text-primary peer-invalid:text-error-500 focus:invalid:text-error-500 duration-300 transform -translate-y-[1.2rem] scale-75 top-2 z-10 origin-[0] bg-white data-[disabled]:bg-gray-50-background- px-2 peer-focus:px-2 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-[1.2rem] rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto start-1"
      for="floating_outlined"
    >
      Search by user name ...
    </label>
    <div class="absolute top-3 right-3">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="slate-300"
        viewBox="0 0 24 24"
        height="24"
        width="24"
      >
        <path
          d="M10.979 16.8991C11.0591 17.4633 10.6657 17.9926 10.0959
          17.9994C8.52021 18.0183 6.96549 17.5712 5.63246 16.7026C4.00976
          15.6452 2.82575 14.035 2.30018 12.1709C1.77461 10.3068 1.94315
          8.31525 2.77453 6.56596C3.60592 4.81667 5.04368 3.42838 6.82101
          2.65875C8.59833 1.88911 10.5945 1.79039 12.4391 2.3809C14.2837
          2.97141 15.8514 4.21105 16.8514 5.86977C17.8513 7.52849 18.2155
          9.49365 17.8764 11.4005C17.5979 12.967 16.8603 14.4068 15.7684
          15.543C15.3736 15.9539 14.7184 15.8787 14.3617 15.4343C14.0051
          14.9899 14.0846 14.3455 14.4606 13.9173C15.1719 13.1073 15.6538
          12.1134 15.8448 11.0393C16.0964 9.62426 15.8261 8.166 15.0841
          6.93513C14.3421 5.70426 13.1788 4.78438 11.81 4.34618C10.4412
          3.90799 8.95988 3.98125 7.641 4.55236C6.32213 5.12348 5.25522
          6.15367 4.63828 7.45174C4.02135 8.74982 3.89628 10.2276 4.28629
          11.6109C4.67629 12.9942 5.55489 14.1891 6.75903 14.9737C7.67308
          15.5693 8.72759 15.8979 9.80504 15.9333C10.3746 15.952 10.8989
          16.3349 10.979 16.8991Z"
        ></path>
        <rect
          transform="rotate(-49.6812 12.2469 14.8859)"
          rx="1"
          height="10.1881"
          width="2"
          y="14.8859"
          x="12.2469"
        ></rect>
      </svg>
    </div>
  </div>






</div>

<app-loader-admin *ngIf="isLoading"></app-loader-admin>

<div class=" relative overflow-x-auto shadow-md sm:rounded-lg " *ngIf="!isLoading">
  <table class="w-full text-sm text-left rtl:text-right text-gray-600 dark:text-gray-400 ">
    <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
      <tr>
        <th scope="col" class="px-4 py-3"></th>
        <th scope="col" class="px-4 py-3">First Name</th>
        <th scope="col" class="px-4 py-3">Last Name</th>
        <th scope="col" class="px-4 py-3">Username</th>
        <th scope="col" class="px-4 py-3">Email</th>
        <th scope="col" class="px-4 py-3">Role</th>
        <th scope="col" class="px-4 py-3">CIN</th>
        <th scope="col" class="px-4 py-3">Nationality</th>
        <th scope="col" class="px-4 py-3">License Expiration</th>
        <th scope="col" class="px-4 py-3">Join Date</th>
        <th scope="col" class="px-4 py-3 w-[10%]">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr
        *ngFor="let item of data"
        class="bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-300 dark:hover:bg-gray-700">
        <td class="px-4 py-3">
          <div class="w-9 h-9 rounded-full flex items-center justify-center text-white font-bold bg-blue-600">
            {{ item.firstName.charAt(0) }}{{ item.lastName.charAt(0) }}
          </div>
        </td>

        <td class="px-4 py-3 text-ellipsis overflow-hidden whitespace-nowrap" title="{{ item.firstName }}">
          {{ item.firstName }}
        </td>
        <td class="px-4 py-3 text-ellipsis overflow-hidden whitespace-nowrap" title="{{ item.lastName }}">
          {{ item.lastName }}
        </td>
        <td class="px-4 py-3 text-ellipsis overflow-hidden whitespace-nowrap" title="{{ item.username }}">
          {{ item.username }}
        </td>
        <td class="px-4 py-3 text-ellipsis overflow-hidden whitespace-nowrap" title="{{ item.email }}">
          {{ item.email }}
        </td>
        <td class="px-4 py-3 text-ellipsis overflow-hidden whitespace-nowrap" title="{{ item.role }}">
          {{ item.role }}
        </td>
        <td class="px-4 py-3 text-ellipsis overflow-hidden whitespace-nowrap" title="{{ item.cin }}">
          {{ item.cin }}
        </td>
        <td class="px-4 py-3 text-ellipsis overflow-hidden whitespace-nowrap" title="{{ item.nationality }}">
          {{ item.nationality }}
        </td>
        <td class="px-4 py-3 text-ellipsis overflow-hidden whitespace-nowrap" title="{{ item.licenseExpirationDate | date: 'mediumDate' }}">
          {{ item.licenseExpirationDate | date: 'mediumDate' }}
        </td>
        <td class="px-4 py-3 text-ellipsis overflow-hidden whitespace-nowrap" title="{{ item.joinDate | date: 'mediumDate' }}">
          {{ item.joinDate | date: 'mediumDate' }}
        </td>
        <td class="px-4 py-3 flex justify-center">
          <!-- <button title="update" class="text-blue-600 dark:text-blue-600 hover:underline">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 3l4 4-10 10H7v-4L17 3z"></path>
            </svg>
          </button> -->
          <button title="delete" (click)="deleteUser(item)"
          class=" mt-2 text-red-600 dark:text-red-600 hover:underline">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
            </svg>
          </button>
        </td>
      </tr>
    </tbody>
  </table>

</div>

<div class="flex flex-wrap items-center justify-end gap-2 mt-6">
  <button
    (click)="previousPage()"
    [disabled]="currentPage === 0"
    class="px-3 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 disabled:bg-gray-200 disabled:cursor-not-allowed dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
    </svg>
  </button>

  <ng-container *ngFor="let page of getPages(); let i = index">
    <button
      (click)="loadPage(page)"
      [class.bg-blue-600]="page === currentPage"
      [class.text-white]="page === currentPage"
      [class.bg-gray-300]="page !== currentPage"
      [class.text-gray-700]="page !== currentPage"
      class="px-3 py-1 rounded-lg hover:bg-gray-400 dark:hover:bg-gray-600 dark:text-gray-300">
      {{ page + 1 }}
    </button>
  </ng-container>

  <button
    (click)="nextPage()"
    [disabled]="currentPage >= totalPage - 1"
    class="px-3 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 disabled:bg-gray-200 disabled:cursor-not-allowed dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
    </svg>
  </button>
</div>


<!-- <div  tabindex="-1" [ngClass]="{'hidden': !isModalOpen}" class="flex bg-black/50  overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%)] max-h-full">
  <div class="relative p-4 w-full max-w-6xl max-h-full">
      <div class="relative bg-white rounded-lg shadow-lg dark:bg-gray-800">
          <div class="flex items-center justify-between p-4 md:p-5 border-b rounded-t bg-gray-50 dark:bg-gray-700">
              <h3 class="text-lg font-semibold text-gray-900 dark:text-white">
                  Update Competition
              </h3>
              <button (click)="closeModal()" type="button" class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white" >
                  <svg class="w-3 h-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                      <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                  </svg>
                  <span class="sr-only" >Close modal</span>
              </button>
          </div>

          <form #updateForm = 'ngForm' class="p-4 md:p-5" id="update-event-form" (ngSubmit)="updateCompetition(updateForm.value , items_for_update.id)">
              <div class="grid gap-4 mb-4">
                  <div class="col-span-2 cursor-none">
                      <label for="code" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Event Code</label>
                      <input
                          type="text"
                          readonly
                          id="event-code"
                          class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-600 dark:focus:border-primary-600"
                          name="code"
                          [(ngModel)]="items_for_update.code"
                          placeholder="Event Code"
                        >
                  </div>

                  <div class="col-span-2 sm:col-span-1">
                      <label for="location" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Location</label>
                      <input type="text" id="event-location" class="bg-gray-50 border border-gray-300
                       text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600
                       block w-full p-2.5 dark:bg-gray-600 dark:border-gray-600 dark:placeholder-gray-400
                        dark:text-white dark:focus:ring-primary-600 dark:focus:border-primary-600"
                        name="location"
                        [(ngModel)]="items_for_update.location"
                        placeholder="Location" value="" required>
                  </div>
                  <div class="col-span-2 sm:col-span-1">
                    <label for="date" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Date</label>
                    <input type="datetime-local"
                           id="event-date"
                           name="date"
                           [(ngModel)]="items_for_update.date"
                           class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-600 dark:focus:border-primary-600"
                           required>
                  </div>

                  <div class="col-span-2 sm:col-span-1">
                    <label for="speciesType" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Species Type</label>
                    <select id="event-speciesType" [(ngModel)]="items_for_update.speciesType" name="speciesType" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-600 dark:focus:border-primary-600">
                      <option value="BIRD">BIRD</option>
                      <option value="BIG_GAME">BIG_GAME</option>
                      <option value="SEA">SEA</option>
                    </select>
                  </div>




                  <div class="col-span-2 sm:col-span-1">
                      <label for="minParticipants" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Min Participants</label>
                      <input type="number" id="event-minParticipants" class="bg-gray-50 border border-gray-300
                       text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5
                        dark:bg-gray-600 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white
                        dark:focus:ring-primary-600 dark:focus:border-primary-600"
                        name="minParticipants"
                        [(ngModel)]="items_for_update.minParticipants"
                      placeholder="Min Participants" value="{{items_for_update.minParticipants}}" required>
                  </div>

                  <div class="col-span-2 sm:col-span-1">
                    <label for="maxParticipants" class="block text-sm font-medium text-gray-900 dark:text-white">Max Participants</label>
                    <input type="number" id="event-maxParticipants" class="bg-gray-50 border border-gray-300
                     text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5
                      dark:bg-gray-600 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white
                      dark:focus:ring-primary-500 dark:focus:border-primary-500"
                      name="maxParticipants"
                      [(ngModel)]="items_for_update.maxParticipants"
                    placeholder="Max Participants"  value="{{items_for_update.maxParticipants}}" required>
                  </div>


              </div>
              <div class="flex justify-end">
                <button type="submit" class="w-[20%] text-white inline-flex items-center justify-center bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
                    update
                </button>
              </div>
          </form>
      </div>
  </div>
</div>
 -->
<!--
 <div tabindex="-1" [ngClass]="{'hidden': !isModalOpenAdd}"
 class="flex bg-black/50 overflow-y-auto overflow-x-hidden
 fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%)] max-h-full">

  <div class="relative p-4 w-full max-w-6xl max-h-full">
    <div class="relative bg-white rounded-lg shadow-lg dark:bg-gray-800">
      <div class="flex items-center justify-between p-4 md:p-5 border-b rounded-t bg-gray-50 dark:bg-gray-700">
        <h3 class="text-lg font-semibold text-gray-900 dark:text-white">
          Add User Information
        </h3>
        <button (click)="openOrOpenModalAdd()" type="button" class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white">
          <svg class="w-3 h-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
          </svg>
          <span class="sr-only">Close modal</span>
        </button>
      </div>

      <form #createForm="ngForm" (ngSubmit)="addUser(createForm.value)" class="p-4 md:p-5" id="update-user-form">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">

          <div class="col-span-1">
            <label for="firstName" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">First Name</label>
            <input type="text" id="user-firstName" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500"
            name="firstName" ngModel placeholder="First Name" value="" required>
          </div>

          <div class="col-span-1">
            <label for="lastName" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Last Name</label>
            <input type="text" id="user-lastName" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500"
            name="lastName" ngModel placeholder="Last Name" value="" required>
          </div>

          <div class="col-span-1">
            <label for="email" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Email</label>
            <input type="email" id="user-email" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500"
            name="email" ngModel placeholder="Email" value="" required>
          </div>

          <div class="col-span-1">
            <label for="role" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Role</label>
            <select id="user-role" ngModel name="role" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500">
              <option value="MEMBER">MEMBER</option>
              <option value="ADMIN">ADMIN</option>
            </select>
          </div>

          <div class="col-span-1">
            <label for="cin" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">CIN</label>
            <input type="text" id="user-cin" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500"
            name="cin" ngModel placeholder="CIN" value="" required>
          </div>

          <div class="col-span-1">
            <label for="nationality" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Nationality</label>
            <input type="text" id="user-nationality" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500"
            name="nationality" ngModel placeholder="Nationality" value="" required>
          </div> -->

            <!-- <div class="col-span-1">
              <label for="licenseExpirationDate" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">License Expiration Date</label>
              <input type="datetime-local" id="user-licenseExpirationDate" name="licenseExpirationDate" ngModel
                class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" required>
            </div> -->

          <!-- <div class="col-span-1">
            <label for="joinDate" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Join Date</label>
            <input type="datetime-local" id="user-joinDate" name="joinDate" ngModel
              class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" required>
          </div> -->
<!--
        </div>

        <div class="flex justify-end">
          <button type="submit" class="w-[20%] text-white inline-flex items-center justify-center bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
            Save
          </button>
        </div>
      </form>

    </div>
  </div>
</div> -->
